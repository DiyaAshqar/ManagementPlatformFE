<nav class="top-nav">
  <div class="top-nav-content flex align-items-center gap-2 px-2 sm:px-3">
    <!-- Sidebar Toggle Buttons -->
    <div class="sidebar-toggle-section flex align-items-center gap-1">
      <!-- Mobile Menu Toggle (< 992px) -->
      <button pButton type="button" icon="pi pi-bars" class="p-button-text p-button-rounded mobile-toggle lg:hidden"
        (click)="toggleMobileSidebar()" [attr.aria-label]="'TOGGLE_MENU' | translate">
      </button>

      <!-- Desktop Sidebar Toggle (>= 992px) -->
      <button pButton type="button" icon="pi pi-bars"
        class="p-button-text p-button-rounded desktop-toggle hidden lg:inline-flex" (click)="toggleSidebar()"
        [attr.aria-label]="'TOGGLE_SIDEBAR' | translate"></button>

    </div>

    <!-- Breadcrumbs -->
    <div class="breadcrumbs hidden sm:flex flex align-items-center gap-1">
      <ng-container *ngFor="let crumb of breadcrumbs; let last = last">
        <a *ngIf="crumb.url && !last" [href]="crumb.url" class="breadcrumb-item">
          {{ crumb.label }}
        </a>
        <span *ngIf="!crumb.url || last" class="breadcrumb-item current">
          {{ crumb.label }}
        </span>
        <i *ngIf="!last" class="pi breadcrumb-separator"
          [ngClass]="languageService.isRightToLeft() ? 'pi-angle-left' : 'pi-angle-right'">
        </i>
      </ng-container>
    </div>

    <!-- Actions -->
    <div class="top-nav-actions flex align-items-center gap-1">
      <!-- Notifications -->
      <div class="notification-wrapper">
        <button pButton type="button" icon="pi pi-bell" class="p-button-text p-button-rounded"
          (click)="showNotifications()" [attr.aria-label]="'NOTIFICATIONS' | translate">
        </button>
        <span *ngIf="notificationsCount > 0" class="notification-badge">
          {{ notificationsCount }}
        </span>
      </div>

      <!-- Theme Toggle -->
      <button pButton type="button" [icon]="themeService.isDarkTheme() ? 'pi pi-sun' : 'pi pi-moon'"
        class="p-button-text p-button-rounded" (click)="toggleTheme()" [attr.aria-label]="'TOGGLE_THEME' | translate">
      </button>

      <!-- Language Toggle -->
      <button pButton type="button" icon="pi pi-globe" class="p-button-text p-button-rounded" (click)="toggleLanguage()"
        [attr.aria-label]="'TOGGLE_LANGUAGE' | translate">
      </button>

      <!-- User Profile -->
      <button pButton type="button" icon="pi pi-user" class="p-button-rounded p-button-text"
        (click)="profileMenu.toggle($event)" [attr.aria-label]="'USER_MENU' | translate">
      </button>

      <!-- Profile Menu -->
      <p-menu #profileMenu [model]="profileMenuItems" [popup]="true" appendTo="body" styleClass="profile-menu">
      </p-menu>
    </div>
  </div>
</nav>